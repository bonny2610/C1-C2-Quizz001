<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>C1‚ÄìC2 Vocabulary Trainer</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      padding: 0;
      background: #f3f5ff;
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    .container {
      max-width: 900px;
      width: 100%;
      background: #ffffff;
      margin: 24px;
      padding: 24px 28px 32px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.07);
    }

    h1 {
      margin-top: 0;
      font-size: 26px;
      text-align: center;
      color: #1f2933;
    }

    .subtitle {
      text-align: center;
      margin-bottom: 12px;
      color: #5a6473;
      font-size: 14px;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: center;
      margin-bottom: 16px;
    }

    select {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid #d0d4e6;
      background: #f9f9ff;
      font-size: 13px;
    }

    .question {
      margin-bottom: 18px;
      padding: 14px 16px;
      border-radius: 10px;
      border: 1px solid #e0e4f2;
      background: #f9f9ff;
    }

    .question.correct {
      border-color: #38a169;
      background: #f0fff4;
    }

    .question.incorrect {
      border-color: #e53e3e;
      background: #fff5f5;
    }

    .question p {
      margin: 0 0 8px;
      font-weight: 600;
      color: #111827;
    }

    .options label {
      display: block;
      margin: 4px 0;
      font-size: 14px;
      cursor: pointer;
      color: #374151;
    }

    .options input[type="radio"] {
      margin-right: 6px;
    }

    .text-answer {
      width: 100%;
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px solid #cbd5f0;
      font-size: 14px;
      margin-top: 4px;
    }

    .correct-answer {
      margin-top: 6px;
      font-size: 13px;
      color: #1b7340;
      font-style: italic;
    }

    .result {
      margin-top: 20px;
      padding: 12px 14px;
      border-radius: 10px;
      background: #eef2ff;
      color: #1f2933;
      font-size: 15px;
    }

    button {
      margin-top: 14px;
      padding: 10px 18px;
      border-radius: 999px;
      border: none;
      background: #4f46e5;
      color: white;
      font-weight: 600;
      cursor: pointer;
      font-size: 14px;
      display: inline-block;
    }

    button:hover {
      background: #4338ca;
    }

    .note {
      margin-top: 12px;
      font-size: 13px;
      color: #6b7280;
    }

    @media (max-width: 600px) {
      .container {
        margin: 12px;
        padding: 18px;
      }
      h1 {
        font-size: 22px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>C1‚ÄìC2 Vocabulary Trainer</h1>
    <div class="subtitle">
      Luy·ªán t·ª´ v·ª±ng theo nhi·ªÅu d·∫°ng b√†i ‚Äì ƒë·ªïi ch·∫ø ƒë·ªô ƒë·ªÉ n√£o ho·∫°t ƒë·ªông h·∫øt c√¥ng su·∫•t üí™
    </div>

    <div class="controls">
      <span style="font-size:13px;">Ch·ªçn d·∫°ng b√†i:</span>
      <select id="modeSelect">
        <option value="meaning">1. MCQ ‚Äì Ch·ªçn nghƒ©a ƒë√∫ng</option>
        <option value="sentence">2. MCQ ‚Äì Ch·ªçn t·ª´ ƒëi·ªÅn v√†o c√¢u</option>
        <option value="typing">3. G√µ t·ª´ d·ª±a tr√™n nghƒ©a</option>
      </select>
    </div>

    <form id="quiz"></form>

    <button id="submitBtn" type="button">N·ªôp b√†i</button>
    <div id="result" class="result" style="display:none;"></div>
    <div class="note">
      G·ª£i √Ω: h·ªçc kh√¥ng thu·ªôc l√† ph·∫£i ch√©p ph·∫°t nh√© hai ƒë·ª©a <strong>MUAHAHAHA</strong> üëÄ‚úçÔ∏è
    </div>
  </div>

  <script>
    // ====== D·ªÆ LI·ªÜU T·ª™ V·ª∞NG G·ªêC ======
    const vocabData = [
      {
        word: "differentiate",
        definition: "to see or show the difference between things",
        sentence: "It is important to ______ between facts and opinions."
      },
      {
        word: "drive",
        definition: "strong motivation that pushes someone to act",
        sentence: "Her inner ______ helped her keep studying every night."
      },
      {
        word: "gratification",
        definition: "a feeling of satisfaction or pleasure after achieving something",
        sentence: "He felt great ______ after finishing the project successfully."
      },
      {
        word: "impulsive",
        definition: "acting suddenly without thinking carefully",
        sentence: "She can be ______, buying things she does not really need."
      },
      {
        word: "nonchalant",
        definition: "seeming calm and not worried, even when others expect you to care",
        sentence: "He looked strangely ______ about the bad news."
      },
      {
        word: "inconsiderate",
        definition: "not thinking about how your actions affect other people",
        sentence: "It was ______ of him to play loud music late at night."
      },
      {
        word: "mindfulness",
        definition: "the state of paying full attention to the present moment",
        sentence: "Practising ______ can help reduce stress and improve focus."
      },
      {
        word: "replicate",
        definition: "to copy or do something again in exactly the same way",
        sentence: "Scientists tried to ______ the experiment but failed."
      },
      {
        word: "restrictive",
        definition: "limiting what people can do or what is allowed",
        sentence: "The company has very ______ rules about using social media."
      },
      {
        word: "self-esteem",
        definition: "belief that you are valuable and capable",
        sentence: "Bullying at school can seriously damage a child‚Äôs ______."
      },
      {
        word: "urge",
        definition: "a strong wish or need to do something",
        sentence: "She had an ______ to check her phone every few minutes."
      },
      {
        word: "designated",
        definition: "officially chosen for a particular job or purpose",
        sentence: "He was ______ class representative for the new school year."
      },
      {
        word: "diplomacy",
        definition: "the skill of managing relations between countries or people peacefully",
        sentence: "Good ______ can prevent conflicts from turning into wars."
      },
      {
        word: "employability",
        definition: "the ability to get and keep a job",
        sentence: "Soft skills such as teamwork greatly increase students‚Äô ______."
      },
      {
        word: "impose",
        definition: "to force people to accept a rule, opinion, or decision",
        sentence: "Parents should not ______ their own dreams on their children."
      },
      {
        word: "inconvenience",
        definition: "trouble or difficulty caused to someone",
        sentence: "We apologise for any ______ this delay may cause."
      },
      {
        word: "navigate",
        definition: "to find a way to deal with a difficult situation",
        sentence: "Young people must learn to ______ challenges in modern life."
      },
      {
        word: "openness",
        definition: "willingness to share ideas honestly and listen to others",
        sentence: "Their ______ during the meeting helped solve the problem."
      },
      {
        word: "outweigh",
        definition: "to be more important or greater in effect than something else",
        sentence: "For many students, the benefits of studying abroad ______ the risks."
      },
      {
        word: "stereotype",
        definition: "a fixed and often unfair idea about a group of people",
        sentence: "The film challenges the ______ that all teenagers are lazy."
      },
      {
        word: "flawless",
        definition: "perfect, with no mistakes or defects",
        sentence: "Her performance in the exam was ______."
      },
      {
        word: "idealised",
        definition: "shown as more perfect or better than in real life",
        sentence: "Social media often shows an ______ version of people‚Äôs lives."
      },
      {
        word: "insecure",
        definition: "not confident about yourself or your abilities",
        sentence: "He felt ______ about his accent when speaking English."
      },
      {
        word: "opt",
        definition: "to choose one thing instead of another",
        sentence: "Many students ______ to take an English course online."
      },
      {
        word: "perspective",
        definition: "a particular way of thinking about or seeing something",
        sentence: "Travelling abroad can change your ______ on life."
      },
      {
        word: "undermine",
        definition: "to slowly weaken or damage something",
        sentence: "Constant criticism can ______ a person‚Äôs confidence."
      },
      {
        word: "collective",
        definition: "done by people working together as a group",
        sentence: "Climate change requires ______ action from all countries."
      },
      {
        word: "commercialism",
        definition: "focus on making profit and selling things above other values",
        sentence: "Some people think holidays have been ruined by ______."
      },
      {
        word: "enforce",
        definition: "to make sure that a law or rule is obeyed",
        sentence: "The government must ______ traffic laws more strictly."
      },
      {
        word: "engagement",
        definition: "active interest and participation in something",
        sentence: "Student ______ in class increased after the teacher used games."
      },
      {
        word: "enhance",
        definition: "to improve or increase the quality of something",
        sentence: "Reading regularly can ______ your vocabulary."
      },
      {
        word: "infrastructure",
        definition: "basic systems such as roads and power that a country needs",
        sentence: "Good transport ______ is essential for economic growth."
      },
      {
        word: "obsolete",
        definition: "no longer used because something newer exists",
        sentence: "Many old devices quickly become ______ in the digital age."
      },
      {
        word: "overshadow",
        definition: "to make something else seem less important or noticeable",
        sentence: "The scandal completely ______ his earlier achievements."
      },
      {
        word: "reenact",
        definition: "to repeat or perform a past event again, usually on stage",
        sentence: "The actors will ______ a famous battle from history."
      },
      {
        word: "respiratory",
        definition: "relating to breathing or the lungs",
        sentence: "Air pollution can cause serious ______ diseases."
      },
      {
        word: "restrict",
        definition: "to limit or control something",
        sentence: "Some schools ______ the use of mobile phones in class."
      },
      {
        word: "revive",
        definition: "to bring something back into use or popularity",
        sentence: "There is an effort to ______ traditional folk music."
      },
      {
        word: "significance",
        definition: "the importance or special meaning of something",
        sentence: "Many people do not understand the ______ of this decision."
      },
      {
        word: "spark",
        definition: "to cause something to start, especially suddenly",
        sentence: "The teacher‚Äôs question ______ a lively debate."
      },
      {
        word: "subsidy",
        definition: "money given by a government to support an activity or group",
        sentence: "Farmers received a ______ to help them after the drought."
      },
      {
        word: "urbanisation",
        definition: "the process of more people living in cities than in the countryside",
        sentence: "Rapid ______ has created both opportunities and problems."
      },
      {
        word: "vibrant",
        definition: "full of life, energy, or activity",
        sentence: "The city centre is especially ______ at night."
      },
      {
        word: "destructive",
        definition: "causing great damage to people or things",
        sentence: "The storm had a ______ impact on the coastal villages."
      },
      {
        word: "devastating",
        definition: "extremely shocking or damaging",
        sentence: "The earthquake was ______ for the local community."
      },
      {
        word: "open-minded",
        definition: "willing to consider different ideas and opinions",
        sentence: "Good teachers are ______ and listen to students‚Äô suggestions."
      },
      {
        word: "bypass",
        definition: "to avoid something by going around it",
        sentence: "Some people try to ______ the rules instead of following them."
      },
      {
        word: "competence",
        definition: "the ability or skill to do something well",
        sentence: "The course aims to build students‚Äô ______ in academic writing."
      },
      {
        word: "compulsive",
        definition: "doing something again and again in a way that is hard to control",
        sentence: "He has a ______ habit of checking social media."
      }
    ];

    const quizForm = document.getElementById("quiz");
    const resultDiv = document.getElementById("result");
    const submitBtn = document.getElementById("submitBtn");
    const modeSelect = document.getElementById("modeSelect");

    let currentMode = "meaning";
    let currentQuestions = [];

    function shuffle(array) {
      const arr = array.slice();
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function getRandomOtherIndices(excludeIndex, count) {
      const indices = [];
      const total = vocabData.length;
      while (indices.length < count) {
        const r = Math.floor(Math.random() * total);
        if (r !== excludeIndex && !indices.includes(r)) {
          indices.push(r);
        }
      }
      return indices;
    }

    function buildQuestions() {
      currentQuestions = [];

      vocabData.forEach((item, index) => {
        if (currentMode === "meaning") {
          // MCQ: ch·ªçn nghƒ©a
          const wrongIdx = getRandomOtherIndices(index, 3);
          const options = [
            item.definition,
            vocabData[wrongIdx[0]].definition,
            vocabData[wrongIdx[1]].definition,
            vocabData[wrongIdx[2]].definition
          ];
          const shuffled = shuffle(options);
          const correctIndex = shuffled.indexOf(item.definition);

          currentQuestions.push({
            type: "mcq",
            prompt: `What does "${item.word}" most nearly mean?`,
            options: shuffled,
            correctIndex,
            vocabIndex: index
          });
        } else if (currentMode === "sentence") {
          // MCQ: ƒëi·ªÅn t·ª´ v√†o c√¢u
          const wrongIdx = getRandomOtherIndices(index, 3);
          const options = [
            item.word,
            vocabData[wrongIdx[0]].word,
            vocabData[wrongIdx[1]].word,
            vocabData[wrongIdx[2]].word
          ];
          const shuffled = shuffle(options);
          const correctIndex = shuffled.indexOf(item.word);

          currentQuestions.push({
            type: "mcq",
            prompt: item.sentence,
            options: shuffled,
            correctIndex,
            vocabIndex: index
          });
        } else if (currentMode === "typing") {
          // G√µ t·ª´ d·ª±a tr√™n nghƒ©a
          currentQuestions.push({
            type: "typing",
            prompt: `Type the word that matches this meaning: "${item.definition}"`,
            correctWord: item.word,
            vocabIndex: index
          });
        }
      });
    }

    function renderQuiz() {
      quizForm.innerHTML = "";
      resultDiv.style.display = "none";
      resultDiv.textContent = "";

      currentQuestions.forEach((q, index) => {
        const qDiv = document.createElement("div");
        qDiv.className = "question";
        qDiv.id = "q" + index;

        const qText = document.createElement("p");
        qText.textContent = (index + 1) + ". " + q.prompt;
        qDiv.appendChild(qText);

        if (q.type === "mcq") {
          const optionsDiv = document.createElement("div");
          optionsDiv.className = "options";

          q.options.forEach((opt, i) => {
            const label = document.createElement("label");
            const input = document.createElement("input");
            input.type = "radio";
            input.name = "q" + index;
            input.value = i;
            label.appendChild(input);
            label.appendChild(document.createTextNode(opt));
            optionsDiv.appendChild(label);
          });

          qDiv.appendChild(optionsDiv);
        } else if (q.type === "typing") {
          const input = document.createElement("input");
          input.type = "text";
          input.name = "q" + index;
          input.className = "text-answer";
          input.placeholder = "G√µ t·ª´ ti·∫øng Anh v√†o ƒë√¢y...";
          qDiv.appendChild(input);
        }

        quizForm.appendChild(qDiv);
      });
    }

    function normalise(str) {
      return str.toLowerCase().trim();
    }

    function gradeQuiz() {
      let score = 0;
      let answered = 0;

      document
        .querySelectorAll(".question")
        .forEach(q => q.classList.remove("correct", "incorrect"));
      document
        .querySelectorAll(".correct-answer")
        .forEach(el => el.remove());

      currentQuestions.forEach((q, index) => {
        const qDiv = document.getElementById("q" + index);

        if (q.type === "mcq") {
          const selected = document.querySelector(
            `input[name="q${index}"]:checked`
          );
          if (selected) {
            answered++;
            const value = parseInt(selected.value, 10);
            if (value === q.correctIndex) {
              score++;
              qDiv.classList.add("correct");
            } else {
              qDiv.classList.add("incorrect");
              const correctText = document.createElement("div");
              correctText.className = "correct-answer";
              correctText.textContent =
                "Correct answer: " + q.options[q.correctIndex];
              qDiv.appendChild(correctText);
            }
          }
        } else if (q.type === "typing") {
          const input = document.querySelector(
            `input[name="q${index}"]`
          );
          const value = input.value;
          if (value !== "") {
            answered++;
            if (normalise(value) === normalise(q.correctWord)) {
              score++;
              qDiv.classList.add("correct");
            } else {
              qDiv.classList.add("incorrect");
              const correctText = document.createElement("div");
              correctText.className = "correct-answer";
              correctText.textContent =
                "Correct word: " + q.correctWord;
              qDiv.appendChild(correctText);
            }
          }
        }
      });

      const percent = Math.round((score / currentQuestions.length) * 100);
      resultDiv.style.display = "block";
      resultDiv.textContent =
        `B·∫°n tr·∫£ l·ªùi ƒë√∫ng ${score}/${currentQuestions.length} c√¢u (${percent}%). ` +
        `ƒê√£ l√†m ${answered}/${currentQuestions.length} c√¢u.`;
    }

    submitBtn.addEventListener("click", gradeQuiz);

    modeSelect.addEventListener("change", () => {
      currentMode = modeSelect.value;
      buildQuestions();
      renderQuiz();
    });

    // Kh·ªüi t·∫°o l·∫ßn ƒë·∫ßu
    buildQuestions();
    renderQuiz();
  </script>
</body>
</html>
